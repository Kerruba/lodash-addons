!function(n,e){"function"==typeof define&&define.amd?define(["lodash"],e):"object"==typeof exports?module.exports=e(require("lodash")):n._=e(n._)}(this,function(n){return n.mixin({lighten:function(e,i){i=i||200;var r=e.r+i,t=e.g+i,c=e.b+i;return{r:n.clamp(r,255),g:n.clamp(t,255),b:n.clamp(c,255)}}}),n.mixin({randomColor:function(){return{r:n.random(0,255),g:n.random(0,255),b:n.random(0,255)}}}),n.mixin({clamp:function(e,i,r){n.checkNumber(e),n.checkNumber(i);var t,c=n.isNumber(r)?r:i;return n.isNumber(r)&&(t=i),e>c&&(e=c),n.isNumber(t)&&t>e&&(e=t),e}}),n.mixin({constant:function(e,i,r){return n.checkObject(e),n.checkString(i),Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!1,writable:!1}),e}}),n.mixin({finalize:function(e){n.checkObject(e);var i={};return n.each(e,function(e,r){n.isPlainObject(e)?e=n.finalize(e):n.isArray(e)&&n.each(e,function(i,r){n.isPlainObject(i)&&(e[r]=n.finalize(i))}),n.constant(i,r,e)}),i}}),n.mixin({fromQueryString:function(e){n.checkString(e);var i={},r=e.split("&");return n.each(r,function(n){var e=n.split("=");i[e[0]]=decodeURIComponent(e[1])}),i}}),n.mixin({hasOfType:function(e,i,r){n.checkCollection(e),n.checkKey(i),n.checkFunction(r);var t=!1;return n.has(e,i)&&(t=r(e[i])),t}}),n.mixin({isCollection:function(e){return n.isArray(e)||n.isPlainObject(e)}}),n.mixin({mapFiltered:function(e,i,r){return n.checkArray(e),n.checkFunction(r),n.checkFunction(i),n.map(n.filter(e,i),r)}}),n.mixin({omitDeep:function(e,i){return n.checkCollection(e),n.checkArray(i),n.recurse(e,function(e){return n.isPlainObject(e)&&(e=n.omit(e,i)),e})}}),n.mixin({recurse:function(e,i){return n.checkCollection(e),n.checkFunction(i),e=i(e),n.each(e,function(r,t){n.isCollection(r)?e[t]=n.recurse(r,i):e[t]=i(r)}),e}}),n.mixin({toObject:function(e){return n.recurse(e,function(e){return n.isFunction(e.toObject)&&(e=e.toObject()),e})}}),n.mixin({toQueryString:function(e){n.checkPlainObject(e);var i=[];return n.each(e,function(n,e){i.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),i.join("&")}}),n.mixin({validatedAssign:function(e,i,r){n.checkPlainObject(e),n.checkPlainObject(i),r=n.isBoolean(r)?r:!0;var t={};return n.each(e,function(e,r){var c=n.has(e,"default")?e["default"]:e;if(n.has(i,r))if(n.has(e,"validator")){if(!n.isFunction(e.validator))throw new Error("Invalid validator function for "+r+".");e.validator(i[r])&&(c=i[r])}else n.isPlainObject(e)?c=n.validatedAssign(e,i[r]):typeof e==typeof i[r]&&(c=i[r]);t[r]=c}),r!==!0&&n.each(i,function(e,i){n.has(t,i)||(t[i]=e)}),t}}),n.mixin({"with":function(e,i){n.checkKey(e);var r={};return r[e]=i,r}}),n.mixin({generateKey:function(n){for(var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0,t=n||16;t>r;r++)e+=i.charAt(Math.floor(Math.random()*i.length));return e}}),n.mixin({isNonEmptyString:function(e){return n.isString(e)&&""!==e.trim()}}),n.mixin({lowerFirstLetter:function(e){return n.checkString(e),e.charAt(0).toLowerCase()+e.slice(1)}}),n.mixin({slugify:function(e){return n.checkString(e),e.trim().toLowerCase().replace(/ /g,"-").replace(/([^a-zA-Z0-9\._-]+)/,"")}}),n.mixin({checkArray:function(e){if(!n.isArray(e))throw new TypeError("Argument must be an array.")},checkBoolean:function(e){if(!n.isBoolean(e))throw new TypeError("Argument must be a boolean.")},checkCollection:function(e){if(!n.isArray(e)&&!n.isPlainObject(e))throw new TypeError("Argument must be an array or object.")},checkFunction:function(e){if(!n.isFunction(e))throw new TypeError("Argument must be a function.")},checkKey:function(e){if(!n.isString(e)&&!n.isNumber(e))throw new TypeError("Argument must be a string or number.")},checkNumber:function(e){if(!n.isNumber(e))throw new TypeError("Argument must be a number.")},checkObject:function(e){if(!n.isObject(e))throw new TypeError("Argument must be an object.")},checkPlainObject:function(e){if(!n.isPlainObject(e))throw new TypeError("Argument must be a plain object.")},checkString:function(e){if(!n.isString(e))throw new TypeError("Argument must be a string.")}}),n.mixin({toBool:function(n){return Boolean(n)}}),n});